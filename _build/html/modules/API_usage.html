<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>API usage &mdash; Continuous Pipeline Project Documentation 1.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Welcome to Continuous Pipeline Project Documentation’s documentation!" href="../index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Continuous Pipeline Project Documentation
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">API usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#getting-admistration-level-data">Getting Admistration level Data</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Continuous Pipeline Project Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>API usage</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/modules/API_usage.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="api-usage">
<h1>API usage<a class="headerlink" href="#api-usage" title="Permalink to this headline"></a></h1>
<p>Hi there this Section of the documentation is to help us understand how to make requests to this API.</p>
<section id="getting-admistration-level-data">
<h2>Getting Admistration level Data<a class="headerlink" href="#getting-admistration-level-data" title="Permalink to this headline"></a></h2>
<p><em>Admistration or administrative boundaries are layers we are using to map diffirent places
they are basically shapefiles or feature collection and vary according to the levels</em></p>
<ul class="simple">
<li><p>Admistration level zero (0)</p></li>
</ul>
<p>This the country level dataset</p>
<ul class="simple">
<li><p>Admistration level one (1)</p></li>
</ul>
<p>This is the first level of administrative boundary for diffirent locations (<em>Jurisdiction</em>)
the name varies in the case of Kenya they are refered to as Counties.</p>
<blockquote>
<div><ol class="loweralpha simple">
<li><p>Counties list</p></li>
</ol>
</div></blockquote>
<p>This county list is what the list of counties available for that country this is provided for from the back end by looping
through the field in the database that contains the names.</p>
<p>That information is queried as follows</p>
<p><code class="docutils literal notranslate"><span class="pre">http://208.85.21.253:8080/AdminData/get_adm1_shapefile/?county_names=ALL</span></code></p>
<p>The response is a json object with key <strong>counties</strong> and item is an <strong>array</strong> containing the names of the counties</p>
<figure class="align-default">
<img alt="API request for county names" src="../_images/Admin1names.png" />
</figure>
<p>API request for county names</p>
<blockquote>
<div><ol class="loweralpha simple" start="2">
<li><p>County dataset</p></li>
</ol>
</div></blockquote>
<p>This api request returns the actual Geojson file given the county name</p>
<p>Note <strong>the name has to be in the array since the data is a query to the database.</strong> It returns a feature collection</p>
<p>County Geojson is queried as follows:</p>
<p><code class="docutils literal notranslate"><span class="pre">http://208.85.21.253:8080/AdminData/get_adm1_shapefile/?Get_county=Kisumu</span></code></p>
<p>`` Get_county=`` the name of the county is placed after the <strong>=</strong> sign</p>
<figure class="align-default">
<img alt="API request for county feature collection" src="../_images/AdminGeojson.png" />
</figure>
<p>API request for county feature collection</p>
<ul class="simple">
<li><p>Admistration level one (2)</p></li>
</ul>
<p><em>Administrative level two in the Kenya context means the sub-counties or constituencies</em></p>
<p><em>There are the second leve of administrative boundary a number of administrative level two, forms a county</em></p>
<blockquote>
<div><ol class="loweralpha simple">
<li><p>Sub-county list (admin 2)</p></li>
</ol>
</div></blockquote>
<p>The query is made giving a county name; the api returns list of names sub-counties (admin 2) within a county, the names recieved from Admin1names are used to query for the names for the
sub-counties</p>
<p>county_name field of the ADM2DATA is filter and an iteration is done to the field of sub_county_names to get the names</p>
<p><strong>The Query is done as follows</strong>
<code class="docutils literal notranslate"><span class="pre">http://208.85.21.253:8080/AdminData/get_adm2_shapefile/?Get_sub_counties_names=Nairobi</span></code></p>
<figure class="align-default">
<img alt="API request for admin2 names" src="../_images/Admin2names.png" />
</figure>
<p>API request for admin2 names</p>
<blockquote>
<div><ol class="loweralpha simple" start="2">
<li><p>Sub-County (admin2) dataset</p></li>
</ol>
</div></blockquote>
<p>This api request returns the actual Geojson file given the admin2 name</p>
<p>Note <strong>the name has to be in the array of sub_county_names since the data is a query to the database.</strong> It returns a feature collection</p>
<p><strong>Admin 2 Geojson is queried as follows:</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">http://208.85.21.253:8080/AdminData/get_adm2_shapefile/?sub_county=Mogotio</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">sub_county=</span></code> the name of the sub_county is placed after the <strong>=</strong> sign</p>
<figure class="align-default">
<img alt="API request for sub_county feature collection" src="../_images/Admin2Geojson.png" />
</figure>
<p>API request for sub_county feature collection</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../index.html" class="btn btn-neutral float-left" title="Welcome to Continuous Pipeline Project Documentation’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Collins Asega.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>